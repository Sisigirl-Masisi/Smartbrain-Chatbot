@import url('https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;500&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;500&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Primary Colors - Deep sage conveying reliability */
    --color-primary: #2D5A3D; /* green-800 */
    --color-primary-foreground: #FFFFFF; /* white */
    
    /* Secondary Colors - Lighter sage for highlights */
    --color-secondary: #4A7C59; /* green-600 */
    --color-secondary-foreground: #FFFFFF; /* white */
    
    /* Accent Colors - Warm amber for attention */
    --color-accent: #E67E22; /* orange-600 */
    --color-accent-foreground: #FFFFFF; /* white */
    
    /* Background Colors */
    --color-background: #FEFEFE; /* gray-50 */
    --color-foreground: #1A1A1A; /* gray-900 */
    
    /* Surface Colors - Sage-tinted for cards */
    --color-card: #F8FAF9; /* green-50 */
    --color-card-foreground: #2A2A2A; /* gray-800 */
    
    /* Popover Colors */
    --color-popover: #FFFFFF; /* white */
    --color-popover-foreground: #1A1A1A; /* gray-900 */
    
    /* Muted Colors */
    --color-muted: #F1F5F3; /* green-100 */
    --color-muted-foreground: #5A5A5A; /* gray-600 */
    
    /* Border & Input */
    --color-border: rgba(45, 90, 61, 0.15); /* primary with opacity */
    --color-input: #E8EDE9; /* green-200 */
    --color-ring: #2D5A3D; /* green-800 */
    
    /* Status Colors */
    --color-success: #27AE60; /* green-500 */
    --color-success-foreground: #FFFFFF; /* white */
    
    --color-warning: #F39C12; /* orange-500 */
    --color-warning-foreground: #FFFFFF; /* white */
    
    --color-error: #E74C3C; /* red-500 */
    --color-error-foreground: #FFFFFF; /* white */
    
    --color-destructive: #E74C3C; /* red-500 */
    --color-destructive-foreground: #FFFFFF; /* white */
    
    /* Radius */
    --radius-sm: 6px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;
    
    /* Shadows - Sage-tinted */
    --shadow-sm: 0 1px 3px rgba(45, 90, 61, 0.08);
    --shadow-md: 0 2px 6px rgba(45, 90, 61, 0.12);
    --shadow-lg: 0 6px 12px rgba(45, 90, 61, 0.14);
    --shadow-xl: 0 12px 24px rgba(45, 90, 61, 0.16);
    --shadow-2xl: 0 20px 40px -8px rgba(45, 90, 61, 0.16);
  }

  .dark {
    /* Primary Colors */
    --color-primary: #4A7C59; /* green-600 */
    --color-primary-foreground: #FFFFFF; /* white */
    
    /* Secondary Colors */
    --color-secondary: #5A8C69; /* green-500 */
    --color-secondary-foreground: #FFFFFF; /* white */
    
    /* Accent Colors */
    --color-accent: #F39C12; /* orange-500 */
    --color-accent-foreground: #FFFFFF; /* white */
    
    /* Background Colors - Sage-tinted dark surfaces */
    --color-background: #0F1A12; /* green-950 */
    --color-foreground: #EBEBEB; /* gray-200 */
    
    /* Surface Colors - Elevated sage-tinted backgrounds */
    --color-card: #1A2B1F; /* green-900 */
    --color-card-foreground: #E5E5E5; /* gray-300 */
    
    /* Popover Colors */
    --color-popover: #253530; /* green-800 */
    --color-popover-foreground: #EBEBEB; /* gray-200 */
    
    /* Muted Colors */
    --color-muted: #1F3329; /* green-850 */
    --color-muted-foreground: #A0A0A0; /* gray-400 */
    
    /* Border & Input */
    --color-border: rgba(90, 140, 105, 0.20); /* secondary with opacity */
    --color-input: #2A3F32; /* green-800 */
    --color-ring: #4A7C59; /* green-600 */
    
    /* Status Colors */
    --color-success: #2ECC71; /* green-400 */
    --color-success-foreground: #FFFFFF; /* white */
    
    --color-warning: #F39C12; /* orange-500 */
    --color-warning-foreground: #FFFFFF; /* white */
    
    --color-error: #E74C3C; /* red-500 */
    --color-error-foreground: #FFFFFF; /* white */
    
    --color-destructive: #E74C3C; /* red-500 */
    --color-destructive-foreground: #FFFFFF; /* white */
    
    /* Shadows - Soft glow for dark mode */
    --shadow-sm: 0 1px 3px rgba(74, 124, 89, 0.15);
    --shadow-md: 0 2px 6px rgba(74, 124, 89, 0.20);
    --shadow-lg: 0 6px 12px rgba(74, 124, 89, 0.25);
    --shadow-xl: 0 12px 24px rgba(74, 124, 89, 0.30);
    --shadow-2xl: 0 20px 40px -8px rgba(74, 124, 89, 0.35);
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Source Sans 3', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-size: 16px;
    line-height: 1.6;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Crimson Text', Georgia, serif;
    font-weight: 600;
  }

  h1 {
    font-size: 2.25rem;
    line-height: 1.2;
  }

  h2 {
    font-size: 1.875rem;
    line-height: 1.25;
  }

  h3 {
    font-size: 1.5rem;
    line-height: 1.3;
  }

  h4 {
    font-size: 1.25rem;
    line-height: 1.4;
  }

  h5 {
    font-size: 1.125rem;
    line-height: 1.5;
  }

  .caption {
    font-family: 'Nunito Sans', sans-serif;
    font-size: 0.875rem;
    line-height: 1.4;
    letter-spacing: 0.025em;
  }

  .mono {
    font-family: 'JetBrains Mono', monospace;
    font-feature-settings: 'tnum' on, 'lnum' on;
  }

  @media (max-width: 640px) {
    body {
      font-size: 15px;
    }
  }
}

@layer components {
  /* Navigation Header Styles */
  .nav-header {
    @apply fixed top-0 left-0 right-0 h-[60px] bg-card shadow-md z-[100];
    @apply flex items-center justify-between px-4 lg:px-6;
    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .nav-header-logo {
    @apply flex items-center gap-3;
  }
.nav-header-brand  {
    @apply flex items-center justify-center w-10 h-10 rounded-lg;
    
    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
  }
.nav-header-brand:hover  {
    @apply scale-105;
  }

  .nav-header-title {
    @apply text-xl font-semibold text-foreground;
    font-family: 'Crimson Text', Georgia, serif;
  }

  .nav-header-menu {
    @apply hidden lg:flex items-center gap-1;
  }

  .nav-header-item {
    @apply relative px-4 py-2 rounded-md text-sm font-medium;
    @apply text-muted-foreground hover:text-foreground hover:bg-muted;
    @apply transition-all duration-250 ease-out;
    font-family: 'Nunito Sans', sans-serif;
  }

  .nav-header-item:hover {
    @apply -translate-y-[1px];
  }

  .nav-header-item:active {
    @apply scale-[0.97];
  }
.nav-header-item.active  {
    @apply text-primary;
  }

  .nav-header-item.active::after {
    content: '';
    @apply absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-0.5 bg-primary rounded-full;
  }

  .nav-header-actions {
    @apply flex items-center gap-3;
  }
.nav-header-status  {
    @apply hidden lg:flex items-center gap-2 px-3 py-1.5 rounded-full;
    @apply text-success text-xs font-medium;
    font-family: 'Nunito Sans', sans-serif;
  }
.nav-header-status.disconnected  {
    @apply text-error;
  }

  .nav-header-status-dot {
    @apply w-2 h-2 rounded-full bg-current animate-pulse;
  }

  /* Mobile Menu Button */
  .mobile-menu-button {
    @apply lg:hidden fixed top-4 left-4 z-[150];
    @apply w-10 h-10 flex items-center justify-center;
    @apply bg-card rounded-md shadow-md;
    @apply text-foreground hover:bg-muted;
    @apply transition-all duration-250 ease-out;
  }

  .mobile-menu-button:active {
    @apply scale-[0.97];
  }

  /* Mobile Menu Overlay */
  .mobile-menu-overlay {
    @apply fixed inset-0 bg-background z-[140];
    @apply lg:hidden flex flex-col;
    @apply transition-transform duration-300 ease-out;
  }

  .mobile-menu-overlay.closed {
    @apply -translate-x-full;
  }

  .mobile-menu-header {
    @apply flex items-center justify-between p-4 border-b border-border;
  }

  .mobile-menu-content {
    @apply flex-1 overflow-y-auto p-4;
  }

  .mobile-menu-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-lg;
    @apply text-base font-medium text-muted-foreground;
    @apply hover:text-foreground hover:bg-muted;
    @apply transition-all duration-250 ease-out;
    font-family: 'Nunito Sans', sans-serif;
  }
.mobile-menu-item.active  {
    @apply text-primary;
  }

  .mobile-menu-divider {
    @apply my-4 border-t border-border;
  }

  /* User Menu Dropdown */
  .user-menu-trigger {
    @apply flex items-center gap-2 px-3 py-2 rounded-lg;
    @apply hover:bg-muted transition-all duration-250 ease-out;
    @apply cursor-pointer;
  }

  .user-menu-trigger:active {
    @apply scale-[0.97];
  }
.user-menu-avatar  {
    @apply w-8 h-8 rounded-full flex items-center justify-center;
    @apply text-primary font-semibold text-sm;
  }

  .user-menu-dropdown {
    @apply absolute top-full right-0 mt-2 w-56;
    @apply bg-popover rounded-lg shadow-xl border border-border;
    @apply py-2 z-[200];
    @apply transition-all duration-200 ease-out;
    @apply origin-top-right;
  }

  .user-menu-dropdown.closed {
    @apply opacity-0 scale-95 pointer-events-none;
  }

  .user-menu-item {
    @apply flex items-center gap-3 px-4 py-2.5;
    @apply text-sm text-popover-foreground hover:bg-muted;
    @apply transition-colors duration-200;
    @apply cursor-pointer;
    font-family: 'Nunito Sans', sans-serif;
  }

  .user-menu-item:active {
    @apply scale-[0.97];
  }

  .user-menu-divider {
    @apply my-2 border-t border-border;
  }

  .user-menu-header {
    @apply px-4 py-2 border-b border-border mb-2;
  }

  .user-menu-name {
    @apply text-sm font-semibold text-popover-foreground;
  }

  .user-menu-email {
    @apply text-xs text-muted-foreground;
  }

  /* Bottom Navigation (Mobile) */
  .bottom-nav {
    @apply fixed bottom-0 left-0 right-0 h-16;
    @apply bg-card border-t border-border z-[100];
    @apply lg:hidden flex items-center justify-around px-2;
    @apply shadow-lg;
  }

  .bottom-nav-item {
    @apply flex flex-col items-center justify-center gap-1;
    @apply flex-1 py-2 rounded-lg;
    @apply text-muted-foreground hover:text-foreground hover:bg-muted;
    @apply transition-all duration-250 ease-out;
  }

  .bottom-nav-item:active {
    @apply scale-[0.97];
  }
.bottom-nav-item.active  {
    @apply text-primary;
  }

  .bottom-nav-label {
    @apply text-xs font-medium;
    font-family: 'Nunito Sans', sans-serif;
  }

  /* Main Content Layout */
  .main-content {
    @apply pt-[60px] min-h-screen;
  }

  .main-content.with-bottom-nav {
    @apply pb-16 lg:pb-0;
  }

  /* Focus Ring */
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  }

  /* Smooth Transitions */
  .smooth-transition {
    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Card Styles */
  .card {
    @apply bg-card rounded-xl p-7 border border-border shadow-md;
    @apply transition-all duration-250 ease-out;
  }

  .card:hover {
    @apply shadow-lg -translate-y-[1px];
  }

  /* Message Bubble Styles */
  .message-bubble {
    @apply rounded-lg p-4 max-w-[70ch];
    @apply transition-all duration-250 ease-out;
  }

  .message-bubble.user {
    @apply bg-primary text-primary-foreground ml-auto;
  }

  .message-bubble.assistant {
    @apply bg-card text-card-foreground;
  }

  /* Typing Indicator */
  .typing-indicator {
    @apply flex gap-1;
  }

  .typing-dot {
    @apply w-2 h-2 rounded-full bg-muted-foreground;
    animation: typing 1.2s infinite;
  }

  .typing-dot:nth-child(2) {
    animation-delay: 0.15s;
  }

  .typing-dot:nth-child(3) {
    animation-delay: 0.3s;
  }

  @keyframes typing {
    0%, 60%, 100% {
      transform: translateY(0);
      opacity: 0.7;
    }
    30% {
      transform: translateY(-8px);
      opacity: 1;
    }
  }

  /* Skeleton Loading */
  .skeleton {
    @apply bg-muted rounded animate-pulse;
  }

  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  .animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}